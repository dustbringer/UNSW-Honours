\section{One-colour Diagrammatic Hecke Category}
\label{sec:one-col-sbim}

The first one-colour diagrammatic category we explore is the \textit{one-colour (diagrammatic) Hecke category} $\cH(S_2)$ for the symmetric group $S_2 = \angl{s \mathrel{|} s^2 = e}$. After describing the category and exploring some properties, we will see that this diagrammatic category is equivalent to the category of Soergel Bimodules under the additive Karoubi envelope.

\begin{remark}
    All diagrammatics below and in \autoref{chapter:two-col-diagrammatics} can also be defined in the language of planar algebras, without mentioning (monoidal) categories, e.g. in \cite{jones-planar-algebra}. Nevertheless, we study them in the context of categories since they will be seen as diagrammatic versions of important categories in representation theory.
\end{remark}

\begin{definition}
    The \textit{one-colour (diagrammatic) Hecke category} $\cH(S_2)$ is a $\Z$-linear monoidal category with the following presentation.

    The objects are generated by formal tensors of the non-identity element $s \in S_2$. We will write these tensors as words\footnote{Strings of objects where we do not write the tensor product.}, e.g. $s$, $ssss \eqqcolon s^4$, $sssssss \eqqcolon s^7$, where the tensor product is concatenation. The empty tensor product, i.e. the monoidal identity, will be denoted $\vn \eqqcolon s^0$.

    The morphisms are generated, up to isotopy, by the univalent and trivalent vertices
    \begin{align}\tag{G1}\label{eq:one-col-gen}
        \inputtikz{3.1/generator1}
        \quad , \quad
        \inputtikz{3.1/generator2},
    \end{align}
    that are maps $s \to \vn$ and $ss \to s$ respectively, and their vertical reflections. Here, we identify the generating object $s$ with its identity morphism $\id_s = \dRed{\mathsf{I}}$ to avoid labelling the domain and codomain. We also put a large dot on univalent vertices to signify that the line stops abruptly and does not connect to the top. The composition of such diagrams is appropriate vertical stacking, and the tensor product is horizontal concatenation (without intersection). We can also take formal $\Z$-linear combinations of diagrams.
    %The free $\Z$-module structure on each morphism space $\Hom(s^n, s^m)$ produces $\Z$-linear combinations of such diagrams. \red{Something about composition/tensor and addition commuting -> this follows from bifunctoriality of tensor product}
    To abuse notation, the empty diagram $\vn \to \vn$ will be denoted $\vn$.

    Such diagrams are subject to the following local relations, allowing isotopy,
    \begin{varsubequations}{R1} \label{eq:one-col-hecke-rel}
        \begin{gather}
            % Unit and counit
            \label{rel:one-col-frob-unit}
            \inputtikz{3.1/relation1-frob-unit} = \inputtikz{3.1/relation1-identity},
            \\
            % Frobenius associativity
            \label{rel:one-col-frob-ass}
            \inputtikz{3.1/relation2-frob-ass1} = \inputtikz{3.1/relation2-frob-ass2},
            \\
            % Needle annihilation
            \label{rel:one-col-needle}
            \inputtikz{3.1/relation3-needle} = 0,
            \\
            % Polynomial forcing for S_2
            \label{rel:one-col-barbell-forcing}
            \inputtikz{3.1/relation4-left-bar} = 2 \inputtikz{3.1/relation4-split-line} - \inputtikz{3.1/relation4-right-bar}.
        \end{gather}
    \end{varsubequations}
\end{definition}
Note that ``local'' here means that we can apply these relations to any subdiagram. This is called one-colour because we put red for the single generator of $S_2$.


\begin{remark}
    It is clear that the $s$ is a Frobenius object in $\cH(S_2)$. By the universality of the construction, we see the generators \eqref{eq:one-col-gen} and their vertical reflections are the unit, multiplication, counit and comultiplication maps, satisfying the Frobenius object relations \eqref{rel:one-col-frob-unit} and \eqref{rel:one-col-frob-ass}.
\end{remark}

\begin{example}
    \label{eg:one-col-relations}
    Using isotopy and the relations in \eqref{eq:one-col-hecke-rel} we can simplify the morphism in $\Hom(ss,s)$,
    \begin{align*}
        \inputtikz{3.1/relation-example1}
         & = \inputtikz{3.1/relation-example2}
        \\ & = 2 \inputtikz{3.1/relation-example3.1} - \inputtikz{3.1/relation-example3.2}
        \\ & = 2 \inputtikz{3.1/relation-example4.1} - \inputtikz{3.1/relation-example4.2}.
    \end{align*}
\end{example}

\begin{example}
    We can simplify the following morphism in $\Hom(\vn, \vn)$ to
    \begin{gather*}
        \inputtikz{3.1/bubbles-example1}
        \quad = \quad \inputtikz{3.1/bubbles-example2}
        \quad = \quad \inputtikz{3.1/bubbles-example3}
        \quad = \quad \inputtikz{3.1/bubbles-chain-example}
        \quad = 0.
    \end{gather*}
    The first three equalities are the relations \eqref{rel:one-col-frob-ass} and the last equality follows from composition with \eqref{rel:one-col-needle}.
\end{example}

\begin{proposition}
    \label{prop:floating-diagram-barbell}
    A \textit{floating diagrams} is a diagram in $\Hom(\vn,\vn)$. All floating diagrams are a linear combination of diagrams in which all floating diagrams are barbells.
\end{proposition}
\begin{proof}
    By isotopy and \eqref{rel:one-col-frob-unit}, floating diagrams can be drawn as barbells with ``bubbles'' and possibly floating subdiagrams inside each bubble. For example,
    \begin{center}
        \inputtikz{3.1/bubbles-example}.
    \end{center}
    The Frobenius relation \eqref{rel:one-col-frob-ass} allows us to ``straighten out'' the bubbles to a chain of individual circles. For a floating diagram without floating subdiagrams, it is either $0$ by \eqref{rel:one-col-needle}, or $\barbell$, which can be removed from any floating diagrams containing it via \eqref{rel:one-col-barbell-forcing}. Repeating this process produces a linear combination of diagrams where all floating diagrams are barbells.
\end{proof}

\subsection*{Double Leaves Basis}

Let $\Z[\barbell]$ be the ring of formal integer polynomials with the variable $\barbell$. The morphism space $\Hom(s^n, s^m)$ has a left (or right) $\Z[\barbell]$-basis called the \textit{double leaves} basis, as described in \cite{elias-williamson-soergel-calculus}. To define this basis, we must first define morphisms known as \textit{light leaves}. This makes use of the group structure of $S_2$ to reduce words in $\cH(S_2)$.

\begin{definition}
    Let $\phi: (\op{ob}(\cH(S_2)), \tensor) \to (S_2, *)$ be the monoid homomorphism\footnote{A map that preserves the monoidal product and identity element.} mapping $s \mapsto s$ and $\vn \mapsto 1$, and $\psi: S_2 \to \op{ob}(\cH(S_2))$ be the function that maps $s \mapsto s$ and $1 \mapsto \vn$.
\end{definition}

The maps $\phi$ allows words $w = s^n$ to be seen as elements of $S_2$, and $\psi$ allows $1,s \in S_2$ to be seen as the objects $\vn, s \in \cH(S_2)$. Clearly, $\phi \psi$ is the identity map on $S_2$, and the map $\psi \phi: \cH(S_2) \to \cH(S_2)$ takes objects in the category to one of $\vn$ or $s$ in $\cH(S_2)$ by considering them as elements in $S_2$.

\begin{definition}(Subexpression for $S_2$)
    \label{def:subexpression-S2}
    Given a word $w = s^n$, a \textit{subexpression} $e$ is a binary word of length $n$. We can \textit{apply} a subexpression to produce an object $w(e) \in \cH(S_2)$, which is $w$ where terms corresponding to $0$ in $e$ are replaced with $\vn$. For $0 \leq i \leq n$, write $w(e,i)$ for the resultant object of the first $i$ terms in $e$ applied to the first $i$ terms in $w$. Particularly $w(e,0) = \vn$ and $w(e,n) = w(e)$.
\end{definition}
% TODO: \red{Maybe define expressions and subexpressions for general groups}

For example, $0000, 0110$ and $1011$ are subexpressions of $s^4=ssss$. Applying the third subexpression gives $ssss(1011) = s\vn ss = sss$ and $ssss(1011,3) = sss(101) = s \vn s = ss$, by strictness of the monoidal category. Here, each term of the subexpression is a decision to include or exclude the corresponding $s$ in the word, where excluding an $s$ amounts to tensoring with $\vn$.

For a word $w$ and subexpression $e$, we label each term by $U_0,U_1,D_0$ or $D_1$. The $i$-th term is labelled $U_*$ if $\phi(w(e,i-1)) = 1 \in S_2$, and labelled $D_*$ if $\phi(w(e,i-1)) = s \in S_2$. The label's subscript is the corresponding term in $e$.

\begin{example} \label{eg:one-col-light-leaf-label}
    For the object $w = ssss$ and subexpression $e = 0101$, we find the labels as recorded in the following table.
    \begin{center}
        \begin{tabular}{ |r||l|l|l|l| }
            \hline
            Term $i$    & 1     & 2           & 3             & 4                 \\ \hline
            Partial $w$ & $s$   & $ss$        & $sss$         & $ssss$            \\ \hline
            Partial $e$ & $0$   & $01$        & $010$         & $0101$            \\ \hline
            $w(e,i)$    & $\vn$ & $\vn s = s$ & $\vn s \vn=s$ & $\vn s \vn s=ss$  \\ \hline
            Labels      & $U_0$ & $U_0 U_1$   & $U_0 U_1 D_0$ & $U_0 U_1 D_0 D_1$ \\ \hline
        \end{tabular}
    \end{center}
\end{example}

\begin{definition}
    The \textit{light leaf} $LL_{w,e} \in \Hom(w, \psi\phi(w(e)))$ for a word $w$ and subexpression $e$, is defined iteratively as follows. Let $LL_{\vn,\vn} = \vn$ be the empty diagram. Given $LL_{w',e'}$ and $i \in \{0,1\}$, the light leaf $LL_{w's,e'i}$ is one of

    \begin{equation}\tag{LL1}
        \inputtikz{3.1/light-leaves-def-u0} \:,\:
        \inputtikz{3.1/light-leaves-def-u1} \:,\:
        \inputtikz{3.1/light-leaves-def-d0} \:,\:
        \inputtikz{3.1/light-leaves-def-d1}
    \end{equation}
    corresponding to the next label, where $w'$ and $e'$ are appropriate subwords\footnote{A word with some letters removed.} of $w$ and $e$ respectively.
\end{definition}

Here, the codomain of a light leaf $LL_{w,e}$ is the object $\psi\phi(w(e))$. So if the next label is $U_*$ then the codomain of $LL_{w',e'}$ is $\vn$, and when the next label is $D_*$ the codomain of $LL_{w',e'}$ is $s$. This implies that the recursive definition is consistent.

\begin{example}
    Following from \autoref{eg:one-col-light-leaf-label} for $w = ssss$ and $e = 0101$, we have labels $U_0 U_1 D_0 D_1$ so the light leaf $LL_{w,e}$ is built as follows.
    \[
        \vn
        \to \inputtikz{3.1/light-leaves-example1}
        \to \inputtikz{3.1/light-leaves-example2}
        \to \inputtikz{3.1/light-leaves-example3}
        \to \inputtikz{3.1/light-leaves-example4}
    \]
\end{example}

\begin{definition}
    \label{def:double-leaves}
    Let $\ol{LL}_{w,e}$ denote the vertical reflection of $LL_{w,e}$. The \textit{double leaf} for words $w,y$ in $\cH(S_2)$ is a composition
    \[
        \mathbb{LL}_{f,e} \coloneqq \ol{LL}_{y,f} \circ LL_{w,e} : w \to y
    \]
    for subexpressions $e$ of $w$ and $f$ of $y$ such that $\psi\phi(w(e)) = \psi\phi(y(f))$.
\end{definition}
Visually these are diagrams from $w$ to $y$ factoring through $\psi\phi(w(e)) = \psi\phi(y(f)) \in \{\vn,s\}$,
\[
    \inputtikz{3.1/double-leaves}.
\]
% TODO: Maybe give some indication of why we use trapeziums

\begin{example}
    Let $w = ssss$, $y = sss$, $e=0111$ be a subexpression of $w$, and $f=010$ be a subexpression of $y$. The corresponding light leaves are
    \[
        LL_{w,e} = \inputtikz{3.1/double-leaves-example1.1}
        \text{ and }
        LL_{y,f} = \inputtikz{3.1/double-leaves-example1.2}.
    \]
    Then the double leaf $\mathbb{LL}_{f,e} = \ol{LL}_{y,f} \circ LL_{w,e} : ssss \to sss$, factoring through $s$, is
    \[
        \inputtikz{3.1/double-leaves-example2}.
    \]
\end{example}

Note that these double leaves have no floating diagrams. By \autoref{prop:floating-diagram-barbell}, these all appear as barbells $\barbell$. In order for these double leaves to span morphism spaces, we must insert floating diagrams by taking linear combinations as a left $\Z[\barbell]$-module, where the (left) $\barbell$-action is left concatenation by $\barbell$. Since, we can move barbells to the right by isotopy for double leaves factoring through $\vn$, or the relation \eqref{rel:one-col-barbell-forcing} if factoring through $s$, we can equivalently act by $\Z[\barbell]$ on the right. Note that for double leaves factoring through $s$, the ``split line'' term in \eqref{rel:one-col-barbell-forcing} is also a double leaf with different subexpressions and factoring through $\vn$. This leads us to the following theorem.

\begin{theorem}[Elias-Williamson {\cite[Theorem 1.2]{elias-williamson-soergel-calculus}}]
    \label{thm:one-col-double-leaves-basis}
    Given objects $w,y \in \cH(S_2)$, let $\mathbb{LL}(w,y)$ be the collection of double leaves $\mathbb{LL}_{f,e}$ for subexpressions $e$ of $w$ and $f$ of $y$, such that $\psi\phi(w(e)) = \psi\phi(y(f))$. Then $\mathbb{LL}(w,y)$ is a basis for $\Hom(w,y)$ as a left (or right) $\Z[\barbell]$-module.
\end{theorem}
A purely diagrammatic proof (of a more general theorem) can be found in \cite{elias-williamson-soergel-calculus}.

\begin{remark}
    The above light leaves and double leaves, introduced in \cite{elias-williamson-soergel-calculus}, are diagrammatic analogues of Libedinsky's construction in \cite{libedinsky-lightleavesbasis}.
\end{remark}

The morphisms in this category can be graded such that the univalent vertices has degree $1$ and trivalent vertices have degree $-1$. The degree of a diagram is the sum of the degrees of the generators that appear in it. We can easily check that the relations \eqref{eq:one-col-hecke-rel} preserve the grading, so this makes $\cH(S_2)$ a $\Z$-graded category. For example, the diagrams from \autoref{eg:one-col-relations} are degree $3$.



\subsection*{Equivalence with $\sbim$}

For a certain polynomial ring $R$ derived from the symmetric group $S_2$, the category of Bott--Samelson bimodules $\bsbim$ is a category of $R$-$R$-bimodules generated by a bimodule $B_s$. Soergel bimodules are $R$-$R$-bimodules that appear as direct summands of direct sums of Bott--Samelson bimodules. The category of Soergel bimodules is a categorification\footnote{See \cite{soergel-categorification}.} of the Hecke algebra associated to $S_2$, where the polynomials in the Kazhdan--Lusztig conjecture appear. These can be defined in more generality (see \cite{intro-soergel-bimodules} for details).

The category $\Kar(\cH(S_2))$ is a diagrammatic version of the category of Soergel bimodules $\sbim$ for $S_2$. However $\sbim$ is not well behaved with morphisms over $\Z$, so we must first extend the scalars of morphisms spaces in $\cH(S_2)$ to\footnote{The equivalence actually holds in more generality, but we choose $\C$ because it is easy to work with.} $\C$. Formally this is just a left $\Z$-tensor of the morphism spaces with the $\C$-$\Z$-bimodule $\C$, where the right action is induced by the inclusion $\Z \subset \C$. We write $\cH_\C(S_2)$ for this $\C$-linear monoidal category. This process is quite simple and does not change much about to the category itself. In particular, double leaves in $\cH_\C(S_2)$ are still $\C[\barbell]$-bases\footnote{It is easy to check that the set of double leaves tensored with $1 \in \C$ on the left form a basis.} for the morphisms.

\begin{theorem}[Elias-Williamson {\cite[Theorem 6.30]{elias-williamson-soergel-calculus}}] \label{thm:one-col-sbim-equiv}
    The diagrammatic category $\Kar(\cH_\C(S_2))$ and the category of Soergel Bimodules $\sbim$ over $S_2$ are equivalent as graded $\C$-linear monoidal categories.
\end{theorem}
The proof in \cite{elias-williamson-soergel-calculus} gives an equivalence of graded $\C$-linear monoidal categories $\cH_\C(S_2) \cong \bsbim$. We can see this on objects by sending $s$ to $B_s$. By construction, $\Kar(\bsbim) \cong \sbim$, so this equivalence extends uniquely to $\Kar(\cH_\C(S_2)) \cong \sbim$.

