\section{Diagrammatic $\mcal{O}_0(\fraksl_2)$}

\red{A little bit about category $\cO$, and our example of $\mfrak{sl}_2$}

For this section, our category of interest is $\cO$ for the semisimple Lie algebra $\fraksl_2(\C)$. A description of the category $\cO$ can be found in general in {\cite[Sections 3.8--3.10]{humphreys-category-O}} or in {\cite[Section 5.2]{mazorchuk-lectures-sl2-modules}} for the case of $\fraksl_2(\C)$, however we will only give a brief overview. The category $\cO$ is a category of certain modules (or representations) over a semisimple Lie algebra. It is a direct sum of subcategories, where, in the case of $\fraksl_2$ over $\C$, the non-trivial summands are equivalent as abelian categories to the subcategory $\cO_0$. Within this, we look to the full subcategory $\proj(\cO_0)$ of projective modules in $\cO_0$, which is in particular additive and contains all direct summands.

In \cite[Section 2.4]{soergel-category-O}, Soergel shows that the category $\cO$, and hence the subcategory $\proj(\cO_0)$, is a Soergel module category, i.e. it has an action of the monoidal category $\sbim$. By the equivalence in \autoref{thm:one-col-sbim-equiv} we will view $\proj(\cO)$ as a $\cH_\C(S_2)$-module category, extending via the additive Karoubi envelope. Since $\cH_\C(S_2)$ is diagrammatic, this action allows us to describe $\proj(\cO_0)$ (thus essentially $\cO_0$ and $\cO$) diagrammatically.

\begin{remark}
    \label{rk:projO_0-to-O_0}
    We can pass from $\proj(\cO_0)$ to $\cO_0$ by observing that $K^b(\proj(\cO_0))$ is equivalent to $D^b(\cO_0)$ as graded $\Z$-linear \red{Should this be $\C$?} monoidal triangulated categories. This is a standard trick in the field, for example see the introduction of \cite{riche-williamson-tilt-modules-p-canon-basis}\footnote{A self-contained summary of how diagrammatic categories can be related to abelian categories.}. However for our purposes it is not important to understand how this works.
\end{remark}

% \begin{remark}
%     For $\fraksl_2(\C)$, the morphism spaces in $\proj(\cO_0)$ are $\C$-modules so the diagrammatic category $\cH(S_2)$ from \autoref{sec:3.1} must be extended from $\Z$ to $\C$. Formally this is just tensoring the morphism spaces on the left by the $\C$-$\Z$-bimodule $\C$, where the right action is induced by the inclusion $\Z \subset \C$. For the remainder of this section, $\cH(S_2)$ will refer to this $\C$-linear extension. Note that the above process does little to the category. In particular, double leaves in $\cH(S_2)$ become $\C[\barbell]$-bases\footnote{It is easy to see that double leaves tensored with $1 \in \C$ on the left form a basis.} for the morphisms and the equivalence in \autoref{thm:one-col-sbim-equiv} still holds.
% \end{remark}

% For basis, maybe see https://math.stackexchange.com/questions/3399387/basis-of-extension-of-scalars

Although we need to work over $\C$ for $\proj(\cO_0(\fraksl_2))$, the diagrammatic category can be defined more simply, that is over $\Z$.

\begin{definition}
    \label{def:DO_0}
    Let $\mcal{DO}_0 \coloneqq \mcal{DO}_0(\fraksl_2)$ be the $\Z$-linear \red{(Define this in background)} left $\cH(S_2)$-module category with elements generated (\red{Define what this means.}) by the monoidal identity $\vn$ of $\cH(S_2)$ and morphisms generated by the empty diagram $\vn$. The action of $\cH(S_2)$ on the left is left concatenation for both objects and morphisms. In addition to the relations from $\cH(S_2)$, the morphisms have one new relation in which diagrams collapse to $0$ when there are barbells on the right. To depict this we add a wall on the right of the diagram, i.e. embedding the diagrams in the one-sided strip $[0,1] \times \R_{\geq 0}$ instead of in the double-sided strip $[0,1] \times \R$. For example a morphism may be
    \begin{equation*}
        \inputtikz{3.2/wall-example}.
    \end{equation*}
    We impose the relation that diagrams are related to the wall by
    \begin{equation}
        \label{rel:barbell-wall}
        \inputtikz{3.2/relation-barbell-wall} = 0.
    \end{equation}
\end{definition}

\begin{example}
    Using the new relation \eqref{rel:barbell-wall}, we can further simplify the morphism in Example \eqref{eg:one-col-relations} by
    \begin{align*}
        \inputtikz{3.2/relation-example1}
         & = 2 \inputtikz{3.2/relation-example2.1} - \inputtikz{3.2/relation-example2.2}
        \\ & = 2 \left( 2 \inputtikz{3.2/relation-example3.1} - \inputtikz{3.2/relation-example3.2} \right) - 0
        \\ & = 4 \inputtikz{3.2/relation-example3.1}.
    \end{align*}
\end{example}


The objects of this category are identical to objects in $\cH(S_2)$ and the morphisms are the same modulo the wall relation \eqref{rel:barbell-wall}. A natural question to ask is whether double leaves still form bases for the morphism spaces here. Notice that double leaves appear in $\mcal{DO}_0$ by acting on $\vn$ by double leaves in $\cH(S_2)$. All morphisms in $\mcal{DO}_0$ are morphisms in $\cH(S_2)$ so they can be written as $\Z[\barbell]$-linear combinations of double leaves, though some have collapsed to $0$. Thus double leaves span the morphism spaces of $\mcal{DO}_0$ as (left) $\Z[\barbell]$-modules. However they may not be linearly independent as neither left nor right modules. For example, any pair of double leaves that factor through $\vn$ become $0$ when multiplied by $\barbell$ on either side (by translating the barbell to the right). Although double leaves are not always a basis for its respective morphism space as $\Z[\barbell]$-modules, it turns out they are a basis over $\Z$.

\begin{lemma}
    \label{lem:DO_0-double-leaves}
    Let $\pi: \op{mor}(\cH(S_2)) \to \op{mor}(\mcal{DO}_0)$ be the projection map which takes a morphism to the result of its action on the empty diagram $\vn$. Then the image $\pi(\mathbb{LL}(w,y))$ is a basis for $\Hom_{\mcal{DO}_0}(w,y)$ as a $\Z$-module.
\end{lemma}

\begin{proof}
    We consider morphisms $\Hom(w,y)$ in $\mcal{DO}_0$ for fixed objects $w,y$, and write $\mathbb{LL} \coloneqq \pi(\mathbb{LL}(w,y))$ for the set of double leaves in $\mcal{DO}_0$. Any diagram in $\mcal{DO}_0$ can be written as a $\Z$-linear combination of morphisms without floating diagrams, by simplifying them to barbells, pulling them to the right and killing them with \eqref{rel:barbell-wall}. We can write each of these as a $\Z[\barbell]$-linear combination of double leaves by \eqref{thm:one-col-double-leaves-basis} with the right action, and reduce it to a $\Z$-linear combination by \eqref{rel:barbell-wall}. This implies that $\mathbb{LL}$ spans $\Hom(w,y)$ as a $\Z$-module. Since the barbell-wall relation \eqref{rel:barbell-wall} has no effect on $\Z$-linear combinations of $\mathbb{LL}$, it follows from linear independence over $\Z[\barbell]$ that they are linearly independent over $\Z$ in $\mcal{DO}_0$.
    \red{Check the proof.}
\end{proof}

% TODO: Say some leading words here

Our goal is to prove that this diagrammatic category is equivalent to $\proj(\cO_0)$. To that end, we will shift our focus from $\Z$ to $\C$ for the remainder of this section. From now on we write $\mcal{DO}_0$ for the $\C$-linear $\cH_\C(S_2)$-module category obtained by replacing $\Z$ with $\C$ and $\cH(S_2)$ with $\cH_\C(S_2)$ in \autoref{def:DO_0}. The above discussion and \autoref{lem:DO_0-double-leaves} still apply to $\mcal{DO}_0$ over $\C$.

\red{Maybe put this next bit in section 3.1}

\red{Say more about what this is, and why we say it here}

\begin{lemma}
    \label{lem:ss-equal-2s}
    In the additive closure of $\cH_\C(S_2)$ we have an explicit isomorphisms $ss \cong s \oplus s$, as detailed in the proof. Particularly, these are isomorphisms in the additive closure of $\mcal{DO}_0$.
\end{lemma}
\begin{proof}
    In $\cH(S_2)$ we have the relation
    \begin{align}
        \inputtikz{3.2/ss-id-calculation1}
         & = \inputtikz{3.2/ss-id-calculation2} \nonumber                                                                                         \\
         & = \frac{1}{2} \inputtikz{3.2/ss-id-calculation3.1} + \frac{1}{2} \inputtikz{3.2/ss-id-calculation3.2} \nonumber                        \\
         & = \frac{1}{2} \inputtikz{3.2/ss-id-calculation4.1} + \frac{1}{2} \inputtikz{3.2/ss-id-calculation4.2}. \label{rel:ss-to-2s-ismorphism}
    \end{align}
    Note that this $\cH(S_2)$ is $\C$-linear, so division by 2 is allowed. This implies we have maps
    \[
        \pvec{
            \displaystyle \frac{1}{2} \inputtikz{3.2/ss-to-s+s-morphism1} \\
            \displaystyle \frac{1}{2} \inputtikz{3.2/ss-to-s+s-morphism2}
        } : ss \to s \oplus s
        \text{ and }
        \pvec{
            \displaystyle \inputtikz{3.2/s+s-to-ss-morphism1} &
            \displaystyle \inputtikz{3.2/s+s-to-ss-morphism2}
        } : s \oplus s \to ss.
    \]
    It follows from \eqref{rel:one-col-barbell-forcing}, \eqref{rel:one-col-needle} and the calculation \eqref{rel:ss-to-2s-ismorphism}, that these maps are inverses.
    \red{Maybe put the inverse calculation here.}
\end{proof}

The following result shows that our diagrammatic category $\mcal{DO}_0$ indeed describes $\proj(\cO_0(\fraksl_2))$. \red{(Reword this:)} This is essentially due to Soergel \cite[Endomorhihsmensatz 7, Struktursatz 9 and Section 2.4]{soergel-category-O} (see also \cite{soergel-combinatorics-of-hcbim}) but was not originally formulated as such. The key arguments are in \cite{soergel-category-O} so we attribute this theorem to Soergel.

\red{Be clear that I don't understand category $\cO$ very well.}

\begin{theorem}[Soergel, {\cite[Endomorhihsmensatz 7, Struktursatz 9 and Section 2.4]{soergel-category-O}}]
    The diagrammatic category $\Kar(\mcal{DO}_0(\fraksl_2))$ and $\proj(\cO_0(\fraksl_2))$ are equivalent as $\C$-linear $\cH(S_2)$-module categories.
\end{theorem}

\red{Check all of this \& Put precise references}

\red{Maybe write description as a soergel module outside the proof}

\begin{proof}
    As a shorthand, we write $\proj(\cO_0)$ for $\proj(\cO_0(\fraksl_2))$. The work of Soergel in \cite[Section 2.4]{soergel-category-O} shows that $\proj(\cO_0)$ is a Soergel module, i.e. it has a left action of the category of Soergel bimodules defined by applications of the translation functors $\Theta_\vn, \Theta_s \in \End(\cO)$ (corresponding to elements in $S_2$). \red{Explains what this means, how its related to the $\cH(S_2)$ module category} We will construct a functor that will map faithfully into a full subcategory of $\proj(\cO_0)$, which will become the whole projective category under the additive Karoubi envelope. This mimics the strategy in the proof for \autoref{thm:one-col-sbim-equiv}.

    % We consider the \red{full} subcategory \green{$\cO'$} $\subset \cO$ whose Karoubi envelope produces $\cO$, similar to $\bsbim \subset \sbim$. The objects of $\cO'$ are generated by applying $\Theta_s$ to the trivial module $P(\vn)$, and the non-identity morphisms are generated by\footnote{The underlying mechanism is dependent on the functor $\Theta_s$.} tensoring $\id_\vn$ on the left with unit and counit of $\Theta_s$, evaluated at $P(\vn)$.
    
    % In $\cO$, the Soergel module action of $\Theta_s$ corresponds to left tensor of the identity morphism.
    
    Define the functor $F: \mcal{DO}_0 \to \proj(\cO_0)$ that sends the empty object $\vn$ to the trivial module $P(\vn)$, and the Soergel module action corresponding to $s$ to the translation functor $\Theta_s$. Then the object $s$ maps to $\Theta_s(P(\vn)) \eqqcolon P(s)$, and for example $s^3$ maps to $\Theta_s^3(P(\vn)) = \Theta_s\Theta_s\Theta_s(P(\vn))$. In order for $F$ to be functorial, it must map identity diagrams $s^n \to s^n$ to $\id_{\Theta_s^n(P(\vn))}$. On non-identity maps, we let $F(\counit) = i$ be the inclusion $P(\vn) \to P(s)$ and $F(\unit) = p$ be the projection $P(s) \to P(\vn)$. The mapping of $F$ is depicted by the following picture. \red{Need to talk about compositions, why is F well defined if its generated by compositions of these? Are there any clashes? -- Actually preserves compositions by construction}
    \begin{center}
        \inputtikz{3.2/osl2-proof-functor}
    \end{center}
    Now \cite[Proposition 5.90]{mazorchuk-lectures-sl2-modules} shows that there is a natural isomorphism $\Theta_s \Theta_s \cong \Theta_s \oplus \Theta_s$ analogous to the isomorphism $ss \cong s \oplus s$ given in the proof of \autoref{lem:ss-equal-2s}. We will eventually take the additive closure of $\mcal{DO}_0$, so it does not hurt to use these isomorphisms. Given a morphism in $\mcal{DO}_0$ from $s^n$ to $s^m$, repeated precomposition and postcomposition with $ss \to s \oplus s$ and $ss \oplus s \to s$ from \autoref{lem:ss-equal-2s} results in a matrix of morphisms with domain and codomain in $\{\vn, s\}$. By \eqref{rel:one-col-barbell-forcing} and \eqref{rel:barbell-wall} \red{Put a result explaining how all morphisms between these two are of the form on the picture} we can draw the entries of the matrix without floating diagrams, so the only diagrams are $\vn$, $\unit$, $\counit$, $\counit \circ \unit$ and $\dRed{\mathsf{I}}$ up to linear combinations. Therefore, extending by linearity, the picture above completely describes the image of $F$. We can similarly pull back the image, i.e. matrices of morphisms in $\proj(\cO_0)$, to a morphism between $\Theta_s^n(P(\vn))$ and $\Theta_s^m(P(\vn))$ via the analogous maps defining $\Theta_s \Theta_s \cong \Theta_s \oplus \Theta_s$.

    From classical results e.g. \cite[Proposition 5.84 and Lemma 5.87]{mazorchuk-lectures-sl2-modules}, it follows that $\Theta_s$ is a Frobenius object in the category of endofunctors of $\cO$. Then there are unit, counit, multiplication and comultiplication natural transformations satisfying coherence relations in the Frobenius object structure. Applying these to $P(\vn)$ result in the same relations in $\proj(\cO_0)$ for $P(\vn), P(s)$ and $\Theta_s^2(P(\vn))$. Note that the projection and inclusion maps above are exactly the unit and counit of $\Theta_s$ evaluated at $P(\vn)$, and the trivalent vertices provided by projecting the isomorphisms in \autoref{lem:ss-equal-2s} are exactly the multiplication and comultiplication maps. Furthermore, in \cite[Section 2.4]{soergel-category-O} we see that $p \circ i = 0$ in $\proj(\cO_0)$ which is analogous\footnote{This relation extends to the analogue of the local barbell-wall relation, as all `barbell on the right' morphisms in $\proj(\cO_0)$ are linear combinations of applications of $\Theta_s$ to $p \circ i$, which is $0$.} to the barbell-wall relation \eqref{rel:barbell-wall}. Hence all the relations in $\mcal{DO}_0$ are preserved by $F$. By construction, $F$ preserves $\C$-linear combinations and the Soregel module structure in \cite{soergel-category-O}, so $F$ is well defined as a functor between $\C$-linear $\cH(S_2)$-module categories.

    We now prove that $F$ is fully faithful. It follows from \autoref{lem:ss-equal-2s} and the description of $P(\vn)$ and $P(s)$ in \cite[Section 5.2]{mazorchuk-lectures-sl2-modules} that the image of $\unit$ and $\counit$ generate all morphisms of the form $\Theta_s^n(P(\vn)) \to \Theta_s^m(P(\vn))$. Hence $F$ is full. Now the mapping of $F$ on all morphism spaces are determined by those depicted in the above picture. So, for faithfulness, it suffices to compare the $\C$-dimensions of morphism spaces between objects shown in the picture. By \autoref{lem:DO_0-double-leaves}, $\Hom(\vn, \vn)$ has a basis $\{\vn = \id_\vn\}$, $\Hom(s, \vn)$ has a basis $\{\unit\}$, $\Hom(\vn, s)$ has a basis $\{\counit\}$, and $\Hom(s, s)$ has a basis $\{\id_s, \counit \circ \unit\}$. The bases for the corresponding morphism spaces in $\proj(\cO_0)$ are exactly those in the image \red{Ref? - that these are actually the bases of the hom spaces}, so these dimensions coincide. Therefore $F$ is fully faithful.

    All objects in $\proj(\cO_0)$ appear as direct sums and direct summands of the elements $\Theta_s^n(P(\vn))$ for non-negative integers $n$. Therefore the additive Karoubi envelope induces an equivalence $\Kar(\mcal{DO}_0) \cong \proj(\cO_0)$ as $\C$-linear left $\cH(S_2)$-module categories.
\end{proof}

\red{Maybe talk about Soergel modules and $\cH(S_2)$-modules vs $\Kar(\cH(S_2))$-modules}

\begin{remark}
    The morphisms spaces in $\mcal{DO}_0$ are graded by the same grading as $\cH(S_2)$ in \autoref{sec:3.1}. The equivalence $\Kar(\mcal{DO}_0) \cong \proj(\cO_0)$ includes a grading of morphisms in $\proj(\cO_0)$ \red{Check!} and hence a grading morphisms of $\cO$, which is otherwise ungraded.
\end{remark}

