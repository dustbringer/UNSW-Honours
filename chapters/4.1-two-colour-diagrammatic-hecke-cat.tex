The previous chapter had its focus on the symmetric group generated by one element $S_2$, which brought about one-colour diagrammatics. We now explore a more complex example by adding an extra generator, that is, another colour. In particular, we consider the affine symmetric group on two elements\footnote{Also known as the infinite dihedral group.} $\wtilde{S}_2 = \angl{s,t \mid s^2 = t^2 = 1}$. \red{Refine this}

\section{Two-colour Diagrammatic Hecke Category}
\label{sec:4.1}

The definition is similar to the one-colour case, so we will be brief.

\begin{definition}
    The \textit{two-colour (diagrammatic) Hecke category} $\cH(\wtilde{S}_2)$ is a (strict) $\Z$-linear monoidal category given by the following presentation.
    
    Objects in $\cH(\wtilde{S}_2)$ are generated by formal tensor products of the non-identity elements $s,t \in \wtilde{S}_2$. As before, we write objects as words such as $sstttst \eqqcolon s^2t^3st$ where the tensor product is concatenation, and associate the colour \dRed{red} to $s$ and \dBlue{blue} to $t$. The empty word is the monoidal identity, which we write as $\vn$.
    
    The morphisms are generated by the univalent and trivalent vertices
    \begin{align} \tag{G2} \label{eq:two-col-gen}
        \inputtikz{4.1/generator1}
        \quad , \quad
        \inputtikz{4.1/generator2}
        \quad , \quad
        \inputtikz{4.1/generator3}
        \quad , \quad
        \inputtikz{4.1/generator4}
    \end{align}
    that are maps $s \to \vn$, $ss \to s$, $t \to \vn$ and $tt \to t$ respectively, and their vertical reflections. As in the one-colour case, tensor product is horizontal concatenation, composition is appropriate vertical stacking, and we denote the empty diagram $\vn \to \vn$ by $\vn$. For each colour, these diagrams have the one-colour relations given by \eqref{eq:one-col-hecke-rel}. As we have another colour, we need to describe how different colours interact. This is given by the \textit{two-colour relations}
    \begin{align} \tag{R2} \label{rel:two-col-barbell-forcing}
        % Red barbell, blue line
        \inputtikz{4.1/relation-barbell-line1}
         & = \inputtikz{4.1/relation-barbell-line2} + \inputtikz{4.1/relation-barbell-line3} - \inputtikz{4.1/relation-barbell-line4} \nonumber
        \\ &= \inputtikz{4.1/relation-barbell-line2} + 2 \inputtikz{4.1/relation-barbell-line3} - 2\inputtikz{4.1/relation-barbell-line5}
    \end{align}
    and with red and blue swapped.
\end{definition}

\begin{example}
    \label{eg:two-col-relations}
    Using the one-colour and two-colour relations on the following morphism in $\Hom(ttsts, tst)$ we have
    \begin{align*}
        \inputtikz{4.1/relation-example1}
         & = \inputtikz{4.1/relation-example2}
        \\ & = 2 \inputtikz{4.1/relation-example3.1} - \inputtikz{4.1/relation-example3.2}
        \\ & = 2 \inputtikz{4.1/relation-example3.1} - \inputtikz{4.1/relation-example4.1} - 2 \inputtikz{4.1/relation-example4.2} + 2 \inputtikz{4.1/relation-example4.3}
        \\ & = \inputtikz{4.1/relation-example5.1} \tensor \left( 2 \inputtikz{barbell-dRed} + 2 \inputtikz{barbell-dBlue} \right) - \inputtikz{4.1/relation-example5.2} \tensor \left( \inputtikz{barbell-dRed}\inputtikz{barbell-dBlue} + 2 \inputtikz{barbell-dBlue}\inputtikz{barbell-dBlue}\right)
        .
    \end{align*}
\end{example}

\red{Talk about this containing $\cH(S_2)$}

\begin{remark}
    Notice that the red and blue lines never cross as no generators that allow crossings. This is a consequence of working over affine $S_2$ in which the generators $s$ and $t$ have no relation. \red{Mention example of crossing and $S_3$.}
\end{remark}

In this two-colour case, \autoref{prop:floating-diagram-barbell} holds by replacing \eqref{rel:one-col-barbell-forcing} with \eqref{rel:two-col-barbell-forcing} in the proof. This handles the new possibility of floating subdiagrams with alternating colours.

% This stuff needs to be cleaned up

\begin{definition}
    For a group with a presentation in terms of generators and relations, the \textit{length} of a product of generators is the number of generators in the product. We say that a product of generators is \textit{reduced} if it's length cannot be shortened with relations.
\end{definition}

In $\wtilde{S}_2$ products can be shortened by the relation $s^2 = t^2 = 1$. For instance, $sttsts$ is not reduced because it is equal to $ts$ which is reduced. Notice that for $\wtilde{S}_2$ each element can be written uniquely as a reduced product of generators. This is true since otherwise we have two distinct reduced products for the same element in $\wtilde{S}_2$ so they must be related by $s^2 = t^2$. This means they can be reduced further by $s^2 = t^2 = 1$, which contradicts minimality of their length. Note that the reduced products in $\wtilde{S}_2$ are either the identity or alternating products of $s$ and $t$.

Notice that there is a notational similarity between products in the group and words in $\cH(\wtilde{S}_2)$. This motivates the following definitions. Let $\phi: (\op{ob}(\cH(\wtilde{S}_2)), \tensor) \to (\wtilde{S}_2, *)$ be the monoid homomorphism mapping $\vn \mapsto 1$, $s \mapsto s$ and $t \mapsto t$. Also define the function $\psi: \wtilde{S}_2 \to \op{ob}(\cH(\wtilde{S}_2))$ to map elements $x \in \wtilde{S}_2$ to the tensor product of $s$ and $t$ in $\cH(\wtilde{S}_2)$ corresponding to the reduced product of $x$ in $\wtilde{S}_2$. This is well defined because reduced products are unique and two different reduced products cannot equal the same element of $\wtilde{S}_2$. Note that the image $\psi(\wtilde{S}_2)$ is the set containing $\vn$ and words of alternating $s$ and $t$. The composition $\psi\phi: \cH(\wtilde{S}_2) \to \cH(\wtilde{S}_2)$ maps words $w$ to the tensor of $s$ and $t$ corresponding to the reduced product of $\phi(w)$, and $\phi\psi$ is the identity map on $\wtilde{S}_2$.

\begin{definition} (Jones--Wenzl Projectors)
    Consider words $w$ in $\cH(\wtilde{S}_2)$ corresponding to reduced products in $\wtilde{S}_2$ i.e. alternating $s$ and $t$. Suppose that the leftmost generator in $w$ is $s$. Then \textit{Jones--Wenzl projector} $\JW^s_k \in \Hom(w,w)$ is defined recursively such that $\JW^s_0 = \id_\vn$, $\JW^s_1 = \id_s$, $\JW^s_2 = \id_{st}$ and for $k \geq 2$ even,
    \begin{equation*}
        \inputtikz{4.1/jw1} = \inputtikz{4.1/jw2} + \frac{k-1}{k} \inputtikz{4.1/jw3}.
    \end{equation*}
    For $k$ odd, we just swap red and blue to the right of the ellipsis. If $w$ starts with $t$, we can define $\JW^t_i$ by swapping all reds and blues in the recursive formula.
\end{definition}

\begin{example}
    The first non-trivial JW-projector is
    \begin{equation*}
        \JW^s_3 = \inputtikz{4.1/jw-eg1} + \frac{1}{2} \inputtikz{4.1/jw-eg2}.
    \end{equation*}
\end{example}


\begin{definition}
    A \textit{pitchfork} is the diagram of the form
    \begin{equation*}
        \inputtikz{4.1/pitchfork}
    \end{equation*}
    possibly with the colours swapped or vertically reflected.
\end{definition}

\begin{proposition} \label{prop:JW-pitchfork}
    The Jones--Wenzl projector is an idempotent, i.e. $\JW_k \circ \JW_k = \JW_k$, and is killed by pitchforks on the top or the bottom.
\end{proposition}

The JW-projectors are important idempotents in our category, as their images are all the indecomposables in the additive Karoubi envelope (see \cite[Section 5.4.2]{elias-dihedral-cathedral}).

\begin{remark}
    Jones--Wenzl projectors are originally defined to be elements in the Temperley--Lieb algebra satisfying certain properties. The above recursive formula was first shown in \cite{wenzl-jw-projectors}, which we just take for its definition. The functor given in \cite[Section 5.3.2]{elias-dihedral-cathedral} sends them into our diagrammatic category. The proof of the Temperley--Lieb version of \autoref{prop:JW-pitchfork} is a classical result and can be found in for example \cite{wenzl-jw-projectors} or \cite{morrison-jw-projectors}.
\end{remark}

As in the one-colour case, there are bases for morphism spaces in $\cH(\wtilde{S}_2)$ given by double leaves, which we will build up to. The following definition is a more general version of \autoref{def:subexpression-S2}.
\begin{definition}[Subexpression]
    Given a word $w$ of length $n$, a \textit{subexpression} $e$ is a binary string of length $n$. A subexpression can be \textit{applied} to produce an word $w(e)$, which is $w$ where terms corresponding to $0$ in $e$ are replaced with $\vn$. For $1 \leq i \leq n$, we write $w(e,i)$ for the result of the first $i$ terms of $e$ applied to the first $i$ terms in $w$. Particularly $w(e,0) = \vn$ and $w(e,n) = w(e)$.
\end{definition}

For example, in $\cH(\wtilde{S}_2)$, if $w = sttts$ and $e=11001$ then $w(e) = st \vn \vn s = sts$ and $w(e,3) = sts(110) = st\vn = st$ in $\cH(\wtilde{S}_2)$.

Let the \textit{length} of a word be the number of generators in its tensor product. As before, given an object $w$ and a subexpression $e$ of $w$, we label each of the $n$ terms by one of $U_0, U_1, D_0, D_1$. Let $i \geq 0$, and write $x$ for the $i$-th term of $w$. We label the $i$-th term $U_*$ if $\psi\phi(w(e,i-1) \tensor x)$ is longer than $\psi\phi(w(e,i-1))$. In other words we write $U_*$ if the next term of $w$ will make $\psi\phi$ applied to the partially evaluated subexpression longer, regardless of the $i$-term of $e$. We label $D_*$ if $\psi\phi(w(e,i-1) \tensor x)$ is longer than $\psi\phi(w(e,i-1))$. The label's subscript is the $i$-th term of $e$. Note that this construction is well defined because $\psi\phi(w(e,i-1) \tensor x) = \psi(\phi(w(e,i-1)) * \phi(x)) = \psi(\phi(w(e,i-1)) * x)$ is always either longer or shorter, since the last element of the reduced product is either the same as $x$ or different. When they are the same, the word is shorter via $s^2 = t^2 = 1$, and when they are different it is longer as no relations can make it shorter.

% Alternate, easier definition
% If last term in $\psi\phi(w(e,i-1))$ is the same as the $i$-th term in $w$, then $U_*$, and otherwise if they are different we label $D_*$.

\begin{remark}
    This description of the labels (via. reduced products) is more akin to the definition in general for Coxeter groups, than in \autoref{sec:3.1}. \red{Mention the words coxeter group in intro}
\end{remark}

\begin{example}
    \label{eg:two-col-light-leaf-label}
    Consider the word $w = sttst$ and subexpression $e = 10011$. The labels can be constructed as in the following table.

    \begin{center}
        \begin{tabular}{ |r||l|l|l|l|l| }
            \hline
            Term $i$    & 1     & 2         & 3             & 4                 & 5                     \\ \hline
            Partial $w$ & $s$   & $st$      & $stt$         & $stts$            & $sttst$               \\ \hline
            Partial $e$ & $1$   & $10$      & $100$         & $1001$            & $10011$               \\ \hline
            $w(e,i)$    & $s$   & $s\vn$    & $s\vn\vn=s$   & $s\vn\vn s = ss$  & $s\vn\vn s t=sst$     \\ \hline
            Labels      & $U_1$ & $U_1 U_0$ & $U_1 U_0 U_0$ & $U_1 U_0 U_0 D_1$ & $U_1 U_0 U_0 D_1 U_1$ \\ \hline
        \end{tabular}
    \end{center}
\end{example}

\begin{definition}
    The \textit{light leaf} $LL_{w,e} \in \Hom(w, \psi\phi(w(e)))$ for a word $w$ and a subexpression $e$ is defined iteratively as follows. Let $LL_{\vn,\vn} = \vn$ be the empty diagram. Given appropriate subwords $w'$ and $e'$ of $w$ and $e$ respectively, and if the next terms are $x$ in $w$ and $i$ in $e$, the light leaf $LL_{w'x, e'i}$ is one of
    \begin{equation}\tag{LL2}
        \inputtikz{4.1/light-leaves-def-u0} \:,\:
        \inputtikz{4.1/light-leaves-def-u1} \:,\:
        \inputtikz{4.1/light-leaves-def-d0} \:,\:
        \inputtikz{4.1/light-leaves-def-d1}
    \end{equation}
    corresponding to the next label. The \dPurp{purple} strands are \dRed{red} if $x=s$ and \dBlue{blue} if $x=t$.
\end{definition}

Notice that the codomain of a light leaf $LL_{w,e}$ is the object $\psi\phi(w(e))$. So if the next label is $U_*$ then the codomain of $LL_{w',e'}$ does not end with the colour corresponding to $x$, and if the next label is $D_*$ the codomain of $LL_{w',e'}$ ends with a strand with the colour corresponding to $x$. This implies the recursive definition in the diagram above is consistent. Note that in the case of $D_*$, one of the black strands in the domain of $LL_{w',e'}$ must have the colour of $x$ in order for the colour to appear in its codomain.

\begin{example}
    Following from \autoref{eg:two-col-light-leaf-label}, with $w=sttst$, $e=10011$ and labels $U_1 U_0 U_0 D_1 U_1$, the light leaf $LL_{w,e}$ is build as follows.
    \[
        \vn
        \to \inputtikz{4.1/light-leaves-example1}
        \to \inputtikz{4.1/light-leaves-example2}
        \to \inputtikz{4.1/light-leaves-example3}
        \to \inputtikz{4.1/light-leaves-example4}
        \to \inputtikz{4.1/light-leaves-example5}
    \]
\end{example}

We can define double leaves exactly as we did in \autoref{def:double-leaves}.

\begin{definition}
    Let $\ol{LL}_{w,e}$ denote the vertical reflection of $LL_{w,e}$. The \textit{double leaf} for words $w,y$ in $\cH(\wtilde{S}_2)$ is a composition
    \[
        \mathbb{LL}_{f,e} \coloneqq \ol{LL}_{y,f} \circ LL_{w,e} : w \to y
    \]
    for subexpressions $e$ of $w$ and $f$ of $y$ such that $\psi\phi(w(e)) = \psi\phi(f(y))$.
\end{definition}

Diagrammatically these are morphisms from $w$ to $y$ factoring through $\psi\phi(w(e)) = \psi\phi(f(y)) \in \psi(\wtilde{S}_2)$,
\[
    \inputtikz{4.1/double-leaves}.
\]

\begin{example}
    Let $w = sst$ with the subexpression $e=101$ and $y = tstst$ with the subexpression $f=01001$. The corresponding light leaves are
    \[
        LL_{w,e} = \inputtikz{4.1/double-leaves-example1.1}
        \text{ and }
        LL_{y,f} = \inputtikz{4.1/double-leaves-example1.2}.
    \]
    Then the double leaf $\mathbb{LL}_{f,e} = \ol{LL}_{y,f} \circ LL_{w,e} : sst \to tstst$, factoring through $st$, is
    \[
        \inputtikz{4.1/double-leaves-example2}.
    \]
\end{example}

As with the one-colour case, the set of double leaves $\mathbb{LL}(w,y)$ from words $w$ to $y$ in $\cH(\wtilde{S}_2)$ form a basis for $\Hom(w,y)$ over $\Z[\barbell, \barbell[dBlue]]$. The $\Hom$ spaces are graded such that the univalent vertices have degree $1$ and trivalent vertices have degree $-1$ for either colour.

Let $\cH_\C(\wtilde{S}_2)$ be the $\C$-linear monoidal category obtained by extending the scalars of morphisms spaces in $\cH(\wtilde{S}_2)$ from $\Z$ with $\C$. All the results above also hold for $\cH_\C(\wtilde{S}_2)$. Additionally, a result similar to \autoref{thm:one-col-sbim-equiv} states that $\cH_\C(\wtilde{S}_2)$ is equivalent to $\sbim$ over $\wtilde{S}_2$ as graded \red{is this graded?} $\C$-linear monoidal categories.

\begin{remark}
    The construction of the diagrammatic Hecke category, light leaves, \autoref{thm:one-col-double-leaves-basis} and \autoref{thm:one-col-sbim-equiv} all generalise to general Coxeter groups. The details can be found in \cite{elias-williamson-soergel-calculus}.
\end{remark}






